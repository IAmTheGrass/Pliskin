from django.shortcuts import render, get_object_or_404
from django.views.generic import ListView, CreateView
from exploits.models import Exploits
from django.http import HttpResponseRedirect

class Index(ListView):
    model = Exploits
    template_name = "indexe.html"

class Create(CreateView):
	model = Exploits
	fields = ['name', 'code']

def show(request, exploits_id):
    exploits = get_object_or_404(Exploits, pk=exploits_id)
    return render(request, 'exploits/show.html', {'exploits': exploits})

def delete(request, exploits_id):
    exploits = get_object_or_404(Exploits, pk=exploits_id).delete()
    return HttpResponseRedirect('/exploits/index')